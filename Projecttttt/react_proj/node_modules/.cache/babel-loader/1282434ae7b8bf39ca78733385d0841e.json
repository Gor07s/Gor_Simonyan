{"ast":null,"code":"var _jsxFileName = \"/home/gor/Project/Email_tamplate/react_proj/src/Components/modTemplate.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ModTemplate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: props.show,\n      template: props.template[0],\n      recipients: props.recipients,\n      recCount: 1\n    };\n    this.UseTemplateFunc = this.UseTemplateFunc.bind(this);\n    this.modTemp = this.modTemp.bind(this);\n    this.addRecipient = this.addRecipient.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.show) {\n      this.UseTemplateFunc();\n      this.setState({\n        show: false\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.show) {\n      this.UseTemplateFunc();\n      this.setState({\n        show: false\n      });\n    }\n  }\n\n  UseTemplateFunc() {\n    const div2 = document.getElementById(\"addRecBigDiv\");\n    this.state.recipients.forEach(async (rec, index) => {\n      if (index !== 0) {\n        const input = document.createElement(\"input\");\n        const button = document.createElement(\"button\");\n        const div = document.createElement(\"div\");\n        input.value = rec;\n        div.className = \"addRecDiv\";\n        div.style.display = \"flex\";\n        await this.setState({\n          recCount: this.state.recCount + 1\n        });\n        input.id = \"to\" + this.state.recCount;\n        button.innerHTML = \"X\";\n        input.style.display = \"flex\";\n        input.className = \"formInputRec\";\n        button.className = \"delButRec\";\n        button.type = \"button\";\n\n        button.onclick = () => {\n          input.parentNode.removeChild(input);\n          button.style.display = \"none\";\n        };\n\n        div.appendChild(input);\n        div.appendChild(button);\n        div2.appendChild(div);\n      }\n    });\n  }\n\n  async modTemp() {\n    let mail = [];\n\n    for (let i = 1; i <= this.state.recCount; i++) {\n      mail.push(document.getElementById(\"to\" + i).value);\n    }\n\n    console.log(this.state.template);\n    await fetch(\"/useTemplate/modify\", {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: this.state.template.id,\n        templateName: document.getElementById(\"templateName\").value,\n        from: document.getElementById(\"from\").value,\n        recipient: mail,\n        title: document.getElementById(\"title\").value,\n        templateText: document.getElementById(\"text\").value\n      })\n    });\n  }\n\n  async addRecipient() {\n    const input = document.createElement(\"input\");\n    const delButton = document.createElement(\"button\");\n    const div = document.createElement(\"div\");\n    await this.setState({\n      rId: this.state.rId + 1\n    });\n    div.style.display = \"flex\";\n    div.className = \"addRecDiv\";\n    input.id = \"recipients\" + this.state.recCount;\n    input.style.display = \"flex\";\n    input.className = \"formInputRec\";\n    delButton.className = \"delButRec\";\n    delButton.type = \"button\";\n    delButton.id = \"del\" + this.state.recCount;\n    delButton.innerHTML = \"X\";\n\n    delButton.onclick = () => {\n      input.parentNode.removeChild(input);\n      delButton.style.display = \"none\";\n    };\n\n    const bigDiv = document.getElementById(\"addRecBigDiv\");\n    div.appendChild(input);\n    div.appendChild(delButton);\n    bigDiv.appendChild(div);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        \"width\": \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/useTemplate\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"back\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"sendBox\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"sendForm\",\n          onSubmit: e => {\n            e.preventDefault();\n            window.history.replaceState(null, '', \"/\");\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"templateName\",\n              className: \"form\",\n              children: \"Template*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"templateName\",\n              className: \"form\",\n              value: this.state.template.templateName,\n              onChange: e => {\n                this.setState(prevState => ({\n                  template: { ...prevState.template,\n                    templateName: e.target.value\n                  }\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"from\",\n              className: \"form\",\n              children: \"from\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"from\",\n              type: \"email\",\n              className: \"form\",\n              value: this.state.template.templateFrom,\n              onChange: e => {\n                this.setState(prevState => ({\n                  template: { ...prevState.template,\n                    templateFrom: e.target.value\n                  }\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"to1\",\n              className: \"form\",\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"to1\",\n              type: \"email\",\n              className: \"form\",\n              value: this.state.recipients[0],\n              onChange: e => {\n                this.setState(prevState => ({\n                  recipients: { ...prevState.recipients,\n                    [0]: e.target.value\n                  }\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              id: \"addRec\",\n              onClick: () => this.addRecipient(),\n              children: \"Add Recipient\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"addRecBigDiv\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              id: \"titleLabel\",\n              htmlFor: \"title\",\n              className: \"form\",\n              children: \"title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"title\",\n              className: \"form\",\n              value: this.state.template.templateTitle,\n              onChange: e => {\n                this.setState(prevState => ({\n                  template: { ...prevState.template,\n                    templateTitle: e.target.value\n                  }\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"forVars\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"text\",\n              className: \"form\",\n              id: \"textLabel\",\n              children: \"Text*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"text\",\n              value: this.state.template.templateText,\n              className: \"form\",\n              onChange: e => {\n                this.setState(prevState => ({\n                  template: { ...prevState.template,\n                    templateText: e.target.value\n                  }\n                }));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"submit\",\n            type: \"submit\",\n            className: \"form\",\n            onClick: this.modTemp,\n            children: \"Modify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ModTemplate;","map":{"version":3,"sources":["/home/gor/Project/Email_tamplate/react_proj/src/Components/modTemplate.js"],"names":["React","Component","Link","ModTemplate","constructor","props","state","show","template","recipients","recCount","UseTemplateFunc","bind","modTemp","addRecipient","componentDidMount","setState","componentDidUpdate","prevProps","prevState","snapshot","div2","document","getElementById","forEach","rec","index","input","createElement","button","div","value","className","style","display","id","innerHTML","type","onclick","parentNode","removeChild","appendChild","mail","i","push","console","log","fetch","method","headers","body","JSON","stringify","templateName","from","recipient","title","templateText","delButton","rId","bigDiv","render","e","preventDefault","window","history","replaceState","target","templateFrom","templateTitle"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport {Link} from \"react-router-dom\";\n\nclass ModTemplate extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            show: props.show,\n            template: props.template[0],\n            recipients : props.recipients,\n            recCount: 1,\n        }\n        this.UseTemplateFunc = this.UseTemplateFunc.bind(this)\n        this.modTemp = this.modTemp.bind(this)\n        this.addRecipient = this.addRecipient.bind(this)\n    }\n\n    componentDidMount() {\n        if(this.state.show){\n            this.UseTemplateFunc()\n            this.setState({show: false})\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if(this.state.show){\n            this.UseTemplateFunc()\n            this.setState({show: false})\n        }\n    }\n\n    UseTemplateFunc(){\n        const div2= document.getElementById(\"addRecBigDiv\")\n        this.state.recipients.forEach(async (rec, index) => {\n            if (index !== 0){\n                const input = document.createElement(\"input\")\n                const button = document.createElement(\"button\")\n                const div = document.createElement(\"div\")\n                input.value = rec\n                div.className = \"addRecDiv\"\n                div.style.display = \"flex\"\n                await this.setState({recCount: this.state.recCount + 1})\n                input.id = \"to\" + this.state.recCount\n                button.innerHTML = \"X\"\n                input.style.display = \"flex\"\n                input.className = \"formInputRec\"\n                button.className = \"delButRec\"\n                button.type = \"button\"\n                button.onclick = () => {\n                    input.parentNode.removeChild(input)\n                    button.style.display = \"none\"\n                }\n                div.appendChild(input)\n                div.appendChild(button)\n                div2.appendChild(div)\n            }\n        })\n    }\n\n    async modTemp(){\n        let mail = []\n        for (let i = 1; i <= this.state.recCount; i++) {\n            mail.push(document.getElementById(\"to\" + i).value)\n        }\n        console.log(this.state.template)\n        await fetch(\"/useTemplate/modify\", {\n            method:'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                id: this.state.template.id,\n                templateName: document.getElementById(\"templateName\").value,\n                from: document.getElementById(\"from\").value,\n                recipient: mail,\n                title: document.getElementById(\"title\").value,\n                templateText: document.getElementById(\"text\").value\n            })\n        })\n    }\n\n    async addRecipient(){\n        const input = document.createElement(\"input\")\n        const delButton = document.createElement(\"button\")\n        const div = document.createElement(\"div\")\n        await this.setState({rId : this.state.rId + 1})\n        div.style.display =\"flex\"\n        div.className = \"addRecDiv\"\n        input.id = \"recipients\" + this.state.recCount\n        input.style.display = \"flex\"\n        input.className = \"formInputRec\"\n        delButton.className = \"delButRec\"\n        delButton.type = \"button\"\n        delButton.id = \"del\" + this.state.recCount\n        delButton.innerHTML = \"X\"\n        delButton.onclick = () => {\n            input.parentNode.removeChild(input)\n            delButton.style.display = \"none\"\n        }\n        const bigDiv = document.getElementById(\"addRecBigDiv\")\n        div.appendChild(input)\n        div.appendChild(delButton)\n        bigDiv.appendChild(div)\n    }\n\n    render() {\n        return (\n            <div style={{\"width\" : \"100%\"}}>\n                <Link to=\"/useTemplate\">\n                    <button id={\"back\"}>Back</button>\n                </Link>\n                <div  id={\"sendBox\"}>\n                    <form id={\"sendForm\"} onSubmit={e => {\n                        e.preventDefault()\n                        window.history.replaceState(null, '', \"/\")\n                    }}>\n                        <div>\n                            <label htmlFor=\"templateName\" className={\"form\"}>Template*</label>\n                            <input id=\"templateName\" className={\"form\"} value={this.state.template.templateName} onChange={(e) => {this.setState(prevState => ({\n                                template : {\n                                    ...prevState.template,\n                                    templateName : e.target.value\n                                }\n                            }))}}/>\n                        </div>\n                        <div>\n                            <label htmlFor=\"from\" className=\"form\">from</label>\n                            <input id={\"from\"} type=\"email\" className=\"form\" value={this.state.template.templateFrom} onChange={(e) => {this.setState(prevState => ({\n                                template : {\n                                    ...prevState.template,\n                                    templateFrom : e.target.value\n                                }\n                            }))}}/>\n                        </div>\n                        <div>\n                            <label htmlFor={\"to1\"} className=\"form\">To</label>\n                            <input id={\"to1\"} type=\"email\" className=\"form\" value={this.state.recipients[0]} onChange={(e) => {this.setState(prevState => ({\n                                recipients: {\n                                    ...prevState.recipients,\n                                    [0]: e.target.value\n                                }\n                            }))}}/>\n                            <button type={\"button\"} id={\"addRec\"} onClick={() => this.addRecipient()}>Add Recipient</button>\n                        </div>\n                        <div id={\"addRecBigDiv\"}>\n\n                        </div>\n                        <div>\n                            <label id={\"titleLabel\"} htmlFor={\"title\"} className=\"form\">title</label>\n                            <input id={\"title\"} className=\"form\" value={this.state.template.templateTitle} onChange={(e) => {this.setState(prevState => ({\n                                template : {\n                                    ...prevState.template,\n                                    templateTitle : e.target.value\n                                }\n                            }))}}/>\n                        </div>\n                        <div id={\"forVars\"}>\n\n                        </div>\n                        <div>\n                            <label htmlFor={\"text\"} className={\"form\"} id={\"textLabel\"}>Text*</label>\n                            <textarea id={\"text\"} value={this.state.template.templateText} className={\"form\"} onChange={(e) => {this.setState(prevState => ({\n                                template : {\n                                    ...prevState.template,\n                                    templateText : e.target.value\n                                }\n                            }))}}/>\n                        </div>\n                        <button id={\"submit\"} type={\"submit\"} className={\"form\"} onClick={this.modTemp}>Modify</button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ModTemplate"]},"metadata":{},"sourceType":"module"}