{"ast":null,"code":"var _jsxFileName = \"/home/gor/Project/Email_tamplate/react_proj/src/Components/useTemplate.js\";\nimport React, { Component } from \"react\";\nimport SendTemplate from \"./sendTemplate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UseTemplate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      apiResponse: \"\",\n      apiResponseTo: \"\",\n      apiResponseVars: \"\",\n      myTempIsClick: false,\n      tempClicked: false,\n      templateId: null,\n      send: false,\n      template: {},\n      recipientsForSend: [],\n      varsForSend: [],\n      show: false\n    };\n    this.wordsForCheck = [];\n    this.arr = [];\n    this.words = [];\n    this.recipients = [];\n    this.vars = [];\n    this.myTemplates = this.myTemplates.bind(this);\n    this.showMyTemps = this.showMyTemps.bind(this);\n    this.templateOnClick = this.templateOnClick.bind(this);\n    this.UseTemplateFunc = this.UseTemplateFunc.bind(this);\n  }\n\n  templateOnClick(id) {\n    const p = document.getElementById(\"example\");\n    this.words.filter(template => {\n      if (template.id == id) {\n        p.innerHTML = template.templateText;\n        this.setState({\n          tempClicked: true\n        });\n        this.setState({\n          templateId: id\n        });\n      }\n    });\n  }\n\n  async myTemplates() {\n    const div = document.getElementById(\"useTemplatesMenu\");\n    const myTemps = document.getElementById(\"myTemps\");\n    await fetch(\"/useTemplate/templates\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.text()).then(res => this.setState({\n      apiResponse: JSON.parse(res)\n    }));\n    await fetch(\"/useTemplate/recipients\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.text()).then(res => this.setState({\n      apiResponseTo: JSON.parse(res)\n    }));\n    await fetch(\"/useTemplate/vars\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.text()).then(res => this.setState({\n      apiResponseVars: JSON.parse(res)\n    }));\n    console.log(this.state.apiResponse, this.state.apiResponseTo, this.state.apiResponseVars);\n    let templates = this.state.apiResponse.substring(1, this.state.apiResponse.length - 1).split('},');\n\n    if (templates[0] === \"\") {\n      return;\n    }\n\n    templates.forEach((template, index) => {\n      if (index !== templates.length - 1) {\n        templates[index] += \"}\";\n      }\n    });\n    let recipients = this.state.apiResponseTo.substring(1, this.state.apiResponseTo.length - 1).split('},');\n    recipients.forEach((template, index) => {\n      if (index !== recipients.length - 1) {\n        recipients[index] += \"}\";\n      }\n    });\n    let vars = this.state.apiResponseVars.substring(1, this.state.apiResponseVars.length - 1).split('},');\n    vars.forEach((template, index) => {\n      if (index !== vars.length - 1) {\n        vars[index] += \"}\";\n      }\n    });\n    this.words = [];\n    this.recipients = [];\n    this.vars = [];\n\n    for (let i = 0; i < templates.length; i++) {\n      let a = JSON.parse(templates[i]);\n      this.words.push(a);\n    }\n\n    for (let i = 0; i < recipients.length; i++) {\n      let a = JSON.parse(recipients[i]);\n      this.recipients.push(a);\n    }\n\n    for (let i = 0; i < vars.length; i++) {\n      let a = JSON.parse(vars[i]);\n      this.vars.push(a);\n    }\n\n    this.words.forEach((template, index) => {\n      const ep = document.getElementById(index + 1);\n\n      if (ep === null) {\n        const p = document.createElement(\"p\");\n        p.id = index + 1;\n        p.innerHTML = template.templateName;\n\n        p.onclick = () => this.templateOnClick(p.id);\n\n        div.appendChild(p);\n        div.insertBefore(p, myTemps);\n      }\n    });\n  }\n\n  showMyTemps() {\n    this.myTemplates();\n\n    for (let i = 1; i <= this.words.length; i++) {\n      const p = document.getElementById(i);\n\n      if (this.state.myTempIsClick) {\n        p.style.display = \"none\";\n        const g = document.getElementById(\"example\");\n        g.innerHTML = \"\";\n      } else {\n        p.style.display = \"block\";\n      }\n    }\n\n    this.setState({\n      myTempIsClick: !this.state.myTempIsClick,\n      tempClicked: false,\n      templateId: null\n    });\n  }\n\n  async UseTemplateFunc() {\n    await this.setState({\n      template: this.words.filter(temp => temp.id == this.state.templateId)[0],\n      send: true,\n      recipientsForSend: this.recipients.filter(temp => temp.tableId == this.state.templateId)[0],\n      varsForSend: this.vars.filter(temp => temp.tableId == this.state.templateId),\n      show: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [!this.state.send && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"useTempsGeneral\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"useTemplatesMenu\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"defTemps\",\n            children: \"Default Templates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"myTemps\",\n            onClick: this.showMyTemps,\n            children: \"My Templates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"example\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), this.state.tempClicked && /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"useTemplateButton\",\n            onClick: this.UseTemplateFunc,\n            children: \"Use\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 38\n      }, this), this.state.send && /*#__PURE__*/_jsxDEV(SendTemplate, {\n        show: this.state.show,\n        template: this.state.template,\n        recipients: this.state.recipientsForSend,\n        vars: this.state.varsForSend\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UseTemplate;","map":{"version":3,"sources":["/home/gor/Project/Email_tamplate/react_proj/src/Components/useTemplate.js"],"names":["React","Component","SendTemplate","UseTemplate","constructor","props","state","apiResponse","apiResponseTo","apiResponseVars","myTempIsClick","tempClicked","templateId","send","template","recipientsForSend","varsForSend","show","wordsForCheck","arr","words","recipients","vars","myTemplates","bind","showMyTemps","templateOnClick","UseTemplateFunc","id","p","document","getElementById","filter","innerHTML","templateText","setState","div","myTemps","fetch","method","headers","then","res","text","JSON","parse","console","log","templates","substring","length","split","forEach","index","i","a","push","ep","createElement","templateName","onclick","appendChild","insertBefore","style","display","g","temp","tableId","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport SendTemplate from \"./sendTemplate\";\n\nclass UseTemplate extends Component{\n    constructor(props) {\n        super(props);\n        this.state={\n            apiResponse:\"\",\n            apiResponseTo:\"\",\n            apiResponseVars:\"\",\n            myTempIsClick: false,\n            tempClicked: false,\n            templateId: null,\n            send: false,\n            template: {},\n            recipientsForSend: [],\n            varsForSend: [],\n            show: false\n        }\n        this.wordsForCheck = []\n        this.arr = []\n        this.words = []\n        this.recipients = []\n        this.vars = []\n        this.myTemplates = this.myTemplates.bind(this)\n        this.showMyTemps = this.showMyTemps.bind(this)\n        this.templateOnClick = this.templateOnClick.bind(this)\n        this.UseTemplateFunc = this.UseTemplateFunc.bind(this)\n    }\n\n    templateOnClick(id){\n        const p = document.getElementById(\"example\")\n        this.words.filter(template => {\n            if(template.id == id){\n                p.innerHTML = template.templateText\n                this.setState({tempClicked: true})\n                this.setState({templateId: id})\n            }\n        })\n    }\n\n    async myTemplates(){\n        const div = document.getElementById(\"useTemplatesMenu\")\n        const myTemps = document.getElementById(\"myTemps\")\n        await fetch(\"/useTemplate/templates\", {\n            method:'GET',\n            headers: { 'Content-Type': 'application/json' }\n        })\n            .then(res => res.text())\n            .then(res => this.setState({apiResponse: JSON.parse(res)}))\n        await fetch(\"/useTemplate/recipients\", {\n            method:'GET',\n            headers: { 'Content-Type': 'application/json' }\n        })\n            .then(res => res.text())\n            .then(res => this.setState({apiResponseTo: JSON.parse(res)}))\n        await fetch(\"/useTemplate/vars\", {\n            method:'GET',\n            headers: { 'Content-Type': 'application/json' }\n        })\n            .then(res => res.text())\n            .then(res => this.setState({apiResponseVars: JSON.parse(res)}))\n        console.log(this.state.apiResponse, this.state.apiResponseTo, this.state.apiResponseVars)\n        let templates = (this.state.apiResponse).substring(1,this.state.apiResponse.length-1).split('},')\n        if(templates[0] === \"\"){\n            return\n        }\n        templates.forEach((template, index) => {\n            if (index !== templates.length-1){\n                templates[index] += \"}\"\n            }\n        })\n        let recipients = (this.state.apiResponseTo).substring(1,this.state.apiResponseTo.length-1).split('},')\n        recipients.forEach((template, index) => {\n            if (index !== recipients.length-1){\n                recipients[index] += \"}\"\n            }\n        })\n        let vars = (this.state.apiResponseVars).substring(1,this.state.apiResponseVars.length-1).split('},')\n        vars.forEach((template, index) => {\n            if (index !== vars.length-1){\n                vars[index] += \"}\"\n            }\n        })\n        this.words = []\n        this.recipients =[]\n        this.vars = []\n        for(let i = 0; i < templates.length; i++) {\n            let a = JSON.parse(templates[i])\n            this.words.push(a)\n        }\n        for(let i = 0; i < recipients.length; i++) {\n            let a = JSON.parse(recipients[i])\n            this.recipients.push(a)\n        }\n        for(let i = 0; i < vars.length; i++) {\n            let a = JSON.parse(vars[i])\n            this.vars.push(a)\n        }\n        this.words.forEach((template, index) => {\n            const ep = document.getElementById(index+1)\n            if(ep === null) {\n                const p = document.createElement(\"p\")\n                p.id = index + 1\n                p.innerHTML = template.templateName\n                p.onclick = () => this.templateOnClick(p.id)\n                div.appendChild(p)\n                div.insertBefore(p, myTemps)\n            }\n        })\n    }\n\n    showMyTemps(){\n        this.myTemplates()\n        for(let i = 1; i <= this.words.length; i++){\n            const p = document.getElementById(i)\n            if(this.state.myTempIsClick){\n                p.style.display = \"none\"\n                const g = document.getElementById(\"example\")\n                g.innerHTML = \"\"\n            }\n            else {\n                p.style.display = \"block\"\n            }\n        }\n        this.setState({myTempIsClick: !this.state.myTempIsClick,\n                            tempClicked: false,\n                            templateId: null})\n    }\n\n    async UseTemplateFunc(){\n        await this.setState({template: this.words.filter(temp => temp.id == this.state.templateId)[0],\n                            send: true,\n                            recipientsForSend: this.recipients.filter(temp => temp.tableId == this.state.templateId)[0],\n                            varsForSend: this.vars.filter(temp => temp.tableId == this.state.templateId),\n                            show: true})\n    }\n\n    render() {\n        return (\n            <div>\n                {!this.state.send && <div id={\"useTempsGeneral\"}>\n                    <span id={\"useTemplatesMenu\"}>\n                        <p id={\"defTemps\"}>Default Templates</p>\n                        <p id={\"myTemps\"} onClick={this.showMyTemps}>My Templates</p>\n                    </span>\n                    <span>\n                        <p id={\"example\"}></p>\n                        {this.state.tempClicked && <button id={\"useTemplateButton\"} onClick={this.UseTemplateFunc}>Use</button>}\n                    </span>\n                </div>}\n                {this.state.send && <SendTemplate show={this.state.show} template={this.state.template} recipients={this.state.recipientsForSend} vars={this.state.varsForSend}/>}\n            </div>\n        )\n    }\n}\n\nexport default UseTemplate"]},"metadata":{},"sourceType":"module"}